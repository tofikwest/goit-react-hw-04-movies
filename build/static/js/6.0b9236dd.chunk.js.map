{"version":3,"sources":["Service/Api.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/MovieDetail/MovieDetail.js","views/MoviesDetailView/MoviesDetailView.js"],"names":["Api","fetchPopularMovies","axios","get","then","r","data","results","fetchMoviesByQuery","query","fetchMoviesById","id","fetchMoviesCastById","cast","fetchMoviesReviewById","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","MovieDetail","baseUrl","title","url","descr","genres","vote","className","s","movieDetailDiv","src","alt","width","map","i","name","Cast","lazy","Reviews","MoviesDetailView","state","base_url","poster_path","original_title","overview","release_date","vote_average","onBackBtnClick","props","location","history","from","routes","home","movieId","this","match","params","moviesId","setState","target","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Number","pathname","console","log","type","onClick","to","fallback","color","height","timeout","path","render","Component"],"mappings":"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","file":"static/js/6.0b9236dd.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'a82fadf78ee82b5f692528aa8db30ffe';\n\nconst Api = {\n  fetchPopularMovies() {\n    return axios\n      .get(\n        `https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY}`,\n      )\n      .then(r => r.data.results);\n  },\n  fetchMoviesByQuery(query) {\n    return axios\n      .get(\n        `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=1a7532c831c19ca759402dbd11644ca2&language=en-US&page=1&include_adult=false`,\n      )\n      .then(r => r.data.results);\n  },\n  fetchMoviesById(id) {\n    return axios\n      .get(\n        `https://api.themoviedb.org/3/movie/${id}?api_key=1a7532c831c19ca759402dbd11644ca2&language=en-US`,\n      )\n      .then(r => r.data);\n  },\n  fetchMoviesCastById(id) {\n    return axios\n      .get(\n        `https://api.themoviedb.org/3/movie/${id}/credits?api_key=1a7532c831c19ca759402dbd11644ca2&language=en-US`,\n      )\n      .then(r => r.data.cast);\n  },\n  fetchMoviesReviewById(id) {\n    return axios\n      .get(\n        `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=1a7532c831c19ca759402dbd11644ca2&language=en-US&page=1`,\n      )\n      .then(r => r.data.results);\n  },\n};\n\nexport default Api;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from 'react';\nimport s from '../../App.css';\n\nconst MovieDetail = ({ baseUrl, title, url, descr, genres, vote }) => {\n  return (\n    <div className={s.movieDetailDiv}>\n      <h2>{title}</h2>\n      {url && <img src={baseUrl + url} alt={title} width=\"350\" />}\n      <p>{descr}</p>\n      <ul>{genres && genres.map(i => <li key={i.id}>{i.name}</li>)}</ul>\n      <p>{vote}</p>\n    </div>\n  );\n};\n\nexport default MovieDetail;\n","import { Component, Suspense, lazy } from \"react\";\nimport Api from \"../../Service/Api\";\nimport Loader from \"react-loader-spinner\";\n\nimport { NavLink, Route } from \"react-router-dom\";\nimport MovieDetail from \"../../components/MovieDetail/MovieDetail\";\nimport s from \"../../App.css\";\n\nimport routes from \"../../routes\";\n\nconst Cast = lazy(() => import(\"../../components/Cast/Cast\"));\nconst Reviews = lazy(() => import(\"../../components/Reviews/Reviews\"));\n\nclass MoviesDetailView extends Component {\n  state = {\n    base_url: \"https://image.tmdb.org/t/p/w500\",\n    id: null,\n    poster_path: null,\n    original_title: null,\n    overview: null,\n    release_date: null,\n    vote_average: null,\n    genres: null,\n  };\n\n  componentDidMount() {\n    const movieId = this.props.match.params.moviesId;\n    Api.fetchMoviesById(movieId).then((r) =>\n      this.setState({\n        ...r,\n      })\n    );\n  }\n\n  onBackBtnClick = () => {\n    const { location, history } = this.props;\n    history.push(location?.state?.from || routes.home);\n  };\n\n  render() {\n    const movieId = Number(this.props.match.params.moviesId);\n    const {\n      base_url,\n      original_title,\n      poster_path,\n      overview,\n      genres,\n      vote_average,\n    } = this.state;\n    const { match } = this.props;\n\n    const { from } = this?.props?.location?.state || {\n      from: { pathname: \"/\" },\n    };\n    console.log(\"history\", this.props.history.location.state);\n    console.log(\"location\", this.props.location.state);\n    return (\n      <>\n        <button type=\"button\" onClick={this.onBackBtnClick}>\n          &#8630; Back\n        </button>\n        <div className={s.movieDetailDiv}>\n          <MovieDetail\n            baseUrl={base_url}\n            title={original_title}\n            url={poster_path}\n            descr={overview}\n            genres={genres}\n            vote={vote_average}\n          />\n          <div>\n            <p>Information</p>\n            <ul>\n              <NavLink\n                to={{\n                  pathname: `${match.url}/cast`,\n                  state: {\n                    from: from,\n                  },\n                }}\n              >\n                <li>Cast</li>\n              </NavLink>\n              <NavLink\n                to={{\n                  pathname: `${match.url}/review`,\n                  state: {\n                    from: from,\n                  },\n                }}\n              >\n                <li>Reviews</li>\n              </NavLink>\n            </ul>\n            <Suspense\n              fallback={\n                <Loader\n                  type=\"Puff\"\n                  color=\"#00BFFF\"\n                  height={500}\n                  width={500}\n                  timeout={3000}\n                />\n              }\n            >\n              <Route\n                path={`${match.path}/cast`}\n                render={() => <Cast id={movieId} />}\n              />\n              <Route\n                path={`${match.path}/review`}\n                render={() => <Reviews id={movieId} />}\n              />\n            </Suspense>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default MoviesDetailView;\n"],"sourceRoot":""}