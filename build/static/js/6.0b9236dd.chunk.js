(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{57:function(e,t,n){"use strict";var r=n(59),a=n.n(r),c={fetchPopularMovies:function(){return a.a.get("https://api.themoviedb.org/3/trending/movie/week?api_key=".concat("a82fadf78ee82b5f692528aa8db30ffe")).then((function(e){return e.data.results}))},fetchMoviesByQuery:function(e){return a.a.get("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&api_key=1a7532c831c19ca759402dbd11644ca2&language=en-US&page=1&include_adult=false")).then((function(e){return e.data.results}))},fetchMoviesById:function(e){return a.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=1a7532c831c19ca759402dbd11644ca2&language=en-US")).then((function(e){return e.data}))},fetchMoviesCastById:function(e){return a.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=1a7532c831c19ca759402dbd11644ca2&language=en-US")).then((function(e){return e.data.cast}))},fetchMoviesReviewById:function(e){return a.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=1a7532c831c19ca759402dbd11644ca2&language=en-US&page=1")).then((function(e){return e.data.results}))}};t.a=c},91:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.r(t);var c=n(10),i=n(11),o=n(13),s=n(12),l=n(0),u=n(57),h=n(20),p=n.n(h),d=n(9),b=n(3),j=n(23),v=n.n(j),f=n(1),O=function(e){var t=e.baseUrl,n=e.title,r=e.url,a=e.descr,c=e.genres,i=e.vote;return Object(f.jsxs)("div",{className:v.a.movieDetailDiv,children:[Object(f.jsx)("h2",{children:n}),r&&Object(f.jsx)("img",{src:t+r,alt:n,width:"350"}),Object(f.jsx)("p",{children:a}),Object(f.jsx)("ul",{children:c&&c.map((function(e){return Object(f.jsx)("li",{children:e.name},e.id)}))}),Object(f.jsx)("p",{children:i})]})},g=n(14),m=Object(l.lazy)((function(){return n.e(7).then(n.bind(null,93))})),y=Object(l.lazy)((function(){return n.e(8).then(n.bind(null,89))})),x=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={base_url:"https://image.tmdb.org/t/p/w500",id:null,poster_path:null,original_title:null,overview:null,release_date:null,vote_average:null,genres:null},e.onBackBtnClick=function(){var t,n=e.props,r=n.location;n.history.push((null===r||void 0===r||null===(t=r.state)||void 0===t?void 0:t.from)||g.a.home)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.moviesId;u.a.fetchMoviesById(t).then((function(t){return e.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}))}},{key:"render",value:function(){var e,t,n=Number(this.props.match.params.moviesId),r=this.state,a=r.base_url,c=r.original_title,i=r.poster_path,o=r.overview,s=r.genres,u=r.vote_average,h=this.props.match,j=((null===this||void 0===this||null===(e=this.props)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.state)||{from:{pathname:"/"}}).from;return console.log("history",this.props.history.location.state),console.log("location",this.props.location.state),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{type:"button",onClick:this.onBackBtnClick,children:"\u21b6 Back"}),Object(f.jsxs)("div",{className:v.a.movieDetailDiv,children:[Object(f.jsx)(O,{baseUrl:a,title:c,url:i,descr:o,genres:s,vote:u}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:"Information"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)(d.c,{to:{pathname:"".concat(h.url,"/cast"),state:{from:j}},children:Object(f.jsx)("li",{children:"Cast"})}),Object(f.jsx)(d.c,{to:{pathname:"".concat(h.url,"/review"),state:{from:j}},children:Object(f.jsx)("li",{children:"Reviews"})})]}),Object(f.jsxs)(l.Suspense,{fallback:Object(f.jsx)(p.a,{type:"Puff",color:"#00BFFF",height:500,width:500,timeout:3e3}),children:[Object(f.jsx)(b.a,{path:"".concat(h.path,"/cast"),render:function(){return Object(f.jsx)(m,{id:n})}}),Object(f.jsx)(b.a,{path:"".concat(h.path,"/review"),render:function(){return Object(f.jsx)(y,{id:n})}})]})]})]})]})}}]),n}(l.Component);t.default=x}}]);
//# sourceMappingURL=6.0b9236dd.chunk.js.map